# Copyright 2023 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

CONFIG_CROS_EC=y
CONFIG_PLATFORM_EC=y
CONFIG_SHIMMED_TASKS=y

# SoC configuration
CONFIG_AP=n

# Optional features
CONFIG_PLATFORM_EC_CONSOLE_CMD_CHARGEN=n
CONFIG_PLATFORM_EC_CONSOLE_CMD_I2C_PORTMAP=n
CONFIG_PLATFORM_EC_LID_SWITCH=n
CONFIG_PLATFORM_EC_VSTORE=n

# Signing
CONFIG_PLATFORM_EC_RWSIG=y
CONFIG_PLATFORM_EC_RSA_KEY_SIZE=3072
CONFIG_PLATFORM_EC_RSA_EXPONENT_3=y
CONFIG_PLATFORM_EC_RWSIG_KEY_PATH="zephyr/program/roach/dev_key.pem"

# UART
CONFIG_UART_INTERRUPT_DRIVEN=y

# Touchpad
CONFIG_PLATFORM_EC_TOUCHPAD_ELAN=y

# MKBP
CONFIG_PLATFORM_EC_CBI=n
CONFIG_PLATFORM_EC_BACKLIGHT_LID=n
CONFIG_PLATFORM_EC_SWITCH=n
CONFIG_PLATFORM_EC_VBOOT_EFS2=n
CONFIG_PLATFORM_EC_VBOOT_HASH=n

# LOG
CONFIG_LOG=y
CONFIG_USB_DEVICE_LOG_LEVEL_DBG=n
CONFIG_LOG_BUFFER_SIZE=8192

# USB
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_MANUFACTURER="Google LLC"
CONFIG_USB_DEVICE_PRODUCT="Roach"
CONFIG_USB_DEVICE_SN="0"
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=n
CONFIG_USB_DEVICE_VID=0x18D1
CONFIG_USB_DEVICE_PID=0x5999
CONFIG_USB_DEVICE_REMOTE_WAKEUP=y

# USB HID
CONFIG_USB_DEVICE_HID=y
CONFIG_USB_HID_BOOT_PROTOCOL=y
CONFIG_HID_INTERRUPT_EP_MPS=64
CONFIG_USB_HID_DEVICE_COUNT=2
CONFIG_USB_DC_HID_KEYBOARD=y
CONFIG_USB_DC_HID_TOUCHPAD=y
CONFIG_USB_DC_HID_VIVALDI=y
CONFIG_USB_DC_KEYBOARD_ASSISTANT_KEY=n
CONFIG_USB_DC_KEYBOARD_TABLET_MODE_SWITCH=n
CONFIG_USB_DC_KEYBOARD_NUM_TOP_ROW_KEYS=10

# USB-C
CONFIG_PLATFORM_EC_USB_PD_TBT_COMPAT_MODE=n
CONFIG_PLATFORM_EC_USB_PD_USB4=n

# Firmware update
CONFIG_PLATFORM_EC_TOUCHPAD_HASH_FW=y
CONFIG_PLATFORM_EC_TOUCHPAD_VIRTUAL_OFF=0x80000000
CONFIG_PLATFORM_EC_TOUCHPAD_VIRTUAL_SIZE=57344
CONFIG_PLATFORM_EC_UPDATE_PDU_SIZE=4096
